<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/main.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/@picocss/pico@latest/css/pico.min.css"
    />
    <link rel="icon" type="image/png" href="../Assets/Image/nft.png"/>

    <title>WIZARDS | NFT</title>
  </head>
  <body>

        <!-- Script pour ajouter manuellement un nft dans le local storage-->



    <section class="wrapper">
        <nav class="nav">
            <ul>
              <li><a class="nav-home" href="index.html">WIZNFT</a></li>
            </ul>
            <ul>
              <li><a href="shopping.html"><img class="shopping_cart" alt="shopping cart page" src="../Assets/Image/shopping_cart.png"></a></li>
              <li><a href="/favorites"><img class="favorite" alt="favorite page" src="../Assets/Image/star-outline.svg"></a></li>
            </ul>
        </nav>

        <!-- <section  class="overlay">
          <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
          <section class="overlay-content">
        
          </section>
        </section> -->
        <section class="panier-content">
            <h2>Cart summary :</h2>

        </section>

        <section class="pages">
            <submit>Proceed to payment</submit>
        </section>
    </section>

    <script src="../js/main.js"></script>

    <script>
        let object = {
            id      : 385541178,
            desc    : `adventurers are the second NFT collection from Legend Maps, representing a rogue's gallery of playable characters ready to delve into the dungeons represented by the Founder Maps, vanquish the dwellers and other dangers within, and emerge victorious with the loot... or die trying! Each Adventurer will have unique combinations of traits & abilities that will impact gameplay, and which are captured in the metadata. Learn more at [legendmaps.io](http://legendmaps.io/)`, 
            img_url : `https://lh3.googleusercontent.com/PX0e1jJgLWMJfqvhYAdTKW_4mydaXZ09LcpmGauD_yW5qOsOUdtHyYhVZqFOtL5ssmAuLaxOo2bOs6DZ_C4mSY_1z9Nw1S54jJp1`,
            name    : `Legend Maps Adventurer #2963`,
            sales   : 0
        };

        localStorage.setItem('1', JSON.stringify(object));

        const panier = document.querySelector(".panier-content");
        function getLocalStorage(){
            Object.keys(localStorage).forEach(function(key, value){
                let mydata = JSON.parse(localStorage.getItem(key));
                const nftElm = document.createElement("article");
                nftElm.classList.add("nft");
                nftElm.innerHTML = `
                
                <div><img src="` + mydata.img_url +`">` + `<div class="resume"><div>` + mydata.name + `<br><p class="dataId">` + mydata.id +`</p></div><p class="description">
                ` + descSizePanier(mydata.desc) +`
                </p><div class="panier-button"><button class="show-more" id=" ` + mydata.id + `">Show More</button>
                <a onClick=deleteLocalStorage(); class="delete">Remove</a></div></div></div><p class="numberSales">` + mydata.sales + `</p>`;
                panier.appendChild(nftElm);
            });
        }
        getLocalStorage(); 
        getLocalStorage(); 


        function descSizePanier (word){
            if (word.length > 180){
                let wordSlice = word.slice(0, 180);
                return wordSlice.concat('...');
            
            }else if(word == ""){
                return word = `<p style="opacity : 0.5;">Not available</p> `;
            }
            else{
                return word;
        }
    }

    </script>

  </body>
</html>
